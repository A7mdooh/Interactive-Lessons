<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¢Ù…Ù† Ù„ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ â€” Ù…Ø­ØªÙˆÙ‰ ØªÙØ§Ø¹Ù„ÙŠ Ø°ÙƒÙŠ</title>

<!-- Ø®Ø· Ø¹Ø±Ø¨ÙŠ Ø§Ø­ØªØ±Ø§ÙÙŠ -->
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800;900&display=swap" rel="stylesheet">

<style>
/* ============ Ù„ÙˆØ­Ø© Ø£Ù„ÙˆØ§Ù† ÙØ§ØªØ­Ø© ÙˆÙ…Ø¨Ù‡Ø¬Ø© ============ */
:root{
  --bg-1:#f0f9ff;      /* Ø³Ù…Ø§ÙˆÙŠ ÙØ§ØªØ­ */
  --bg-2:#fff7ed;      /* Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ ÙƒØ±ÙŠÙ…ÙŠ Ø®ÙÙŠÙ */
  --bg-3:#fdf2f8;      /* ÙˆØ±Ø¯ÙŠ ÙØ§ØªØ­ */
  --ink:#0f172a;       /* Ù†Øµ ØºØ§Ù…Ù‚ Ù…Ù‚Ø±ÙˆØ¡ */
  --muted:#475569;     /* Ù†Øµ Ø«Ø§Ù†ÙˆÙŠ */
  --brand:#06b6d4;     /* Ø³Ù…Ø§ÙˆÙŠ */
  --brand-2:#a855f7;   /* Ø¨Ù†ÙØ³Ø¬ÙŠ */
  --accent:#22c55e;    /* Ø£Ø®Ø¶Ø± */
  --danger:#ef4444;    /* Ø£Ø­Ù…Ø± */
  --warn:#f59e0b;      /* Ø¹Ù†Ø¨Ø±ÙŠ */
  --card:#ffffff;      /* Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© */
  --ring:#e2e8f0;      /* Ø­Ø¯ÙˆØ¯ Ù„Ø·ÙŠÙØ© */
  --radius:26px;
  --shadow:0 24px 50px rgba(15, 23, 42, .12);
}

/* ============ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª ============ */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:"Cairo", system-ui, -apple-system, "Segoe UI", Roboto, "Noto Kufi Arabic", "Noto Sans Arabic", sans-serif;
  color:var(--ink);
  background:
    radial-gradient(1400px 900px at 110% -10%, var(--bg-3) 0%, transparent 60%),
    radial-gradient(1200px 800px at -10% 110%, var(--bg-2) 0%, transparent 60%),
    linear-gradient(120deg, var(--bg-1), #ffffff 50%, var(--bg-1));
  line-height:1.9;
  overflow-x:hidden;
}

/* Ù‚Ù…Ø§Ø´ Ø²Ø®Ø±ÙÙŠ Ø¨Ø³ÙŠØ· (Ù†Ù‚Ø§Ø· Ø´ÙØ§ÙØ©) */
body:before{
  content:"";
  position:fixed; inset:0;
  background-image: radial-gradient(#0000000f 1px, transparent 1px);
  background-size: 18px 18px;
  pointer-events:none; opacity:.5;
}

header{ text-align:center; padding:32px 18px 10px }
h1{
  margin:0 0 6px 0;
  font-size:clamp(30px,4.4vw,56px);
  font-weight:900;
  letter-spacing:.2px;
  background:linear-gradient(90deg,var(--brand),var(--brand-2));
  -webkit-background-clip:text; background-clip:text; color:transparent;
  filter:drop-shadow(0 10px 16px rgba(6,182,212,.12));
}
.subtitle{ color:var(--muted); font-size:clamp(16px,2.5vw,20px) }

.container{ width:min(1220px,92vw); margin:22px auto 110px }

/* Ø´Ø±ÙŠØ· Ø£Ø¯ÙˆØ§Øª */
.toolbar{
  display:flex; gap:14px; justify-content:space-between; align-items:center;
  background:linear-gradient(180deg, #ffffffcc, #ffffff);
  border:1px solid var(--ring);
  padding:14px 18px; border-radius:20px; box-shadow:var(--shadow);
}
.badges{display:flex; gap:10px; flex-wrap:wrap}
.badge{
  background:linear-gradient(90deg, #cffafe, #fae8ff);
  border:1px solid #e9ecef; color:#0b3b4f;
  padding:10px 14px; border-radius:999px; font-weight:800; font-size:15px;
}
.soundbar{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
.hint{
  font-size:15px; color:#0b3b4f;
  background:linear-gradient(90deg, #e0f2fe, #f3e8ff);
  border:1px solid #e9ecef; padding:6px 10px; border-radius:10px; display:inline-flex; gap:8px; align-items:center
}
button,.btn{
  appearance:none; border:0; cursor:pointer;
  color:#0b3b4f; background:#ffffff; border:1px solid #e9ecef;
  padding:12px 16px; border-radius:14px; font-weight:800;
  transition:.25s transform,.25s box-shadow,.25s background;
  font-size:clamp(15px,1.6vw,18px)
}
.btn:hover{ transform:translateY(-2px); box-shadow:0 10px 20px rgba(2,132,199,.15) }
.btn-primary{ background:linear-gradient(90deg, #a5f3fc, #e9d5ff) }

/* Ø´Ø¨ÙƒØ© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª (Ø£ÙƒØ¨Ø± + ØªØ³Ù„Ø³Ù„ÙŠØ©) */
.flow{ display:flex; flex-direction:column; gap:26px; margin-top:22px }
.card{
  background:var(--card);
  border:1px solid var(--ring);
  border-radius:var(--radius);
  padding:26px 24px 22px;
  box-shadow:var(--shadow);
}
.card h2{
  margin:0 0 12px 0;
  font-size:clamp(24px,2.8vw,34px);
  font-weight:900; display:flex; align-items:center; gap:12px;
}
.card h2 .step{
  display:inline-grid; place-items:center;
  width:48px; height:48px; border-radius:14px;
  background:linear-gradient(135deg, #a5f3fc, #e9d5ff);
  color:#0f172a; font-weight:900; border:1px solid #e9ecef;
}
.card p, .card li{ font-size:clamp(18px,2vw,21px) }
.list{ margin:10px 4px 6px 0 }

.pills{ display:flex; flex-wrap:wrap; gap:10px; margin:12px 2px 2px }
.pill{
  padding:10px 12px; border-radius:999px;
  background:linear-gradient(90deg, #dcfce7, #cffafe);
  border:1px solid #e9ecef; font-weight:800; font-size:16px; color:#064e3b
}

/* Ø¹Ù†Ø§ØµØ± ØªÙØ§Ø¹Ù„ÙŠØ© Ø¹Ø§Ù…Ø© */
.activity{
  background:linear-gradient(180deg, #ffffff, #f8fafc);
  border:1px solid #e9ecef;
  padding:14px; border-radius:16px; transition:.25s transform
}
.activity:hover{ transform:translateY(-4px) }
.tag{ font-size:14px; color:#065f46; background:#d1fae5; border:1px solid #bbf7d0; padding:4px 8px; border-radius:999px; font-weight:800 }

.kbd{ font-family:ui-monospace,Menlo,Consolas,monospace; background:#eff6ff; border:1px solid #e9ecef; padding:2px 6px; border-radius:6px }

/* Ø­Ø§Ø¦Ø· Ø£ÙÙƒØ§Ø± (Ø§Ù„Ø¹ØµÙ Ø§Ù„Ø°Ù‡Ù†ÙŠ) */
.wall{ display:flex; flex-wrap:wrap; gap:10px; margin-top:10px }
.chip{
  background:linear-gradient(90deg,#e0f2fe,#f3e8ff);
  border:1px solid #e9ecef; padding:8px 10px; border-radius:999px; font-weight:800;
  display:inline-flex; gap:8px; align-items:center
}
.chip small{ color:#64748b; font-weight:900 }
.chip .x{ cursor:pointer; opacity:.7 }

/* Ø´Ø±ÙŠØ· ØªÙ‚Ø¯Ù…/Ù…Ù‚ÙŠØ§Ø³ Ø£Ù…Ø§Ù† */
.meter{height:14px; width:100%; background:#f1f5f9; border-radius:999px; overflow:hidden; border:1px solid #e2e8f0}
.meter .v{height:100%; width:0; background:linear-gradient(90deg,#86efac,#22c55e);}

/* Ø¨Ø·Ø§Ù‚Ø§Øª Ù‚Ù„Ø¨ÙŠØ© (Ø¢Ù…Ù†/ØºÙŠØ± Ø¢Ù…Ù†) */
.flipgrid{ display:grid; grid-template-columns:repeat(2,1fr); gap:12px }
.flip{
  perspective:1200px; position:relative; height:160px;
}
.flip .inner{
  position:absolute; inset:0; border:1px solid #e9ecef; border-radius:16px; transform-style:preserve-3d; transition:transform .6s;
  background:#fff; display:grid; place-items:center; padding:10px; text-align:center
}
.flip.safe .front{ background:#dcfce7 }
.flip.unsafe .front{ background:#fee2e2 }
.flip .front, .flip .back{ position:absolute; inset:0; backface-visibility:hidden; border-radius:16px; display:grid; place-items:center; padding:14px }
.flip .back{ transform:rotateY(180deg) }
.flip.flipped .inner{ transform:rotateY(180deg) }

/* ØªØ±ØªÙŠØ¨ Ø§Ù„Ø®Ø·ÙˆØ§Øª (Ø¥Ù†ÙÙˆØ¬Ø±Ø§ÙÙŠÙƒ Ø­ÙŠ) */
.steps{ display:grid; gap:10px }
.stepitem{
  background:#fff; border:1px solid #e9ecef; border-radius:12px; padding:10px 12px;
  display:flex; align-items:center; justify-content:space-between; gap:8px
}
.stepitem .title{ font-weight:900 }
.stepitem .ctrls{ display:flex; gap:6px }
.stepitem .ctrls button{ padding:6px 10px }

/* ÙƒÙˆÙŠØ² */
.quiz .q-card{
  border:1px solid #e9ecef; background:#ffffff; border-radius:18px; padding:16px; margin:12px 0;
}
.q-title{ font-weight:900; margin-bottom:8px }
.q-opts{ display:grid; gap:10px }
.q-opts .btn{ justify-content:space-between; display:flex; align-items:center }
.correct{ outline:3px solid var(--accent) }
.wrong{ outline:3px solid var(--danger) }
.result{ font-weight:900; color:var(--accent); margin-top:8px }
</style>
</head>
<body>

<header>
  <h1>Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¢Ù…Ù† Ù„ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ</h1>
  <div class="subtitle">Ù…Ø­ØªÙˆÙ‰ ØªÙØ§Ø¹Ù„ÙŠ Ø°ÙƒÙŠ Ø¨Ø®Ø· ÙƒØ¨ÙŠØ± ÙˆØ£Ù„ÙˆØ§Ù† Ù…Ø¨Ù‡Ø¬Ø© â€” Ø¥Ø¹Ø¯Ø§Ø¯: Ø£/ Ø£Ø­Ù…Ø¯ Ø§Ù„Ø¶Ø§Ù…Ø±ÙŠ</div>
</header>

<div class="container">
  <!-- Ø´Ø±ÙŠØ· Ø£Ø¯ÙˆØ§Øª -->
  <div class="toolbar">
    <div class="badges">
      <span class="badge">ğŸ¯ Ø£Ù‡Ø¯Ø§Ù Ø§Ù„ØªØ¹Ù„Ù…</span>
      <span class="badge">ğŸ” Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„Ø±Ù‚Ù…ÙŠ</span>
      <span class="badge">ğŸ§  Ø§Ù„Ù…ÙˆØ§Ø·Ù†Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</span>
    </div>
    <div class="soundbar">
      <label class="hint">ğŸ”Š ØµÙˆØª
        <input type="checkbox" id="soundToggle" checked />
      </label>
      <label class="hint">ğŸ”‰ Ù…Ø³ØªÙˆÙ‰
        <input type="range" id="volume" min="0" max="1" step="0.01" value="0.5" />
      </label>
      <button class="btn btn-primary" id="demoSound">Ø¬Ø±Ù‘Ø¨ Ø§Ù„ØµÙˆØª â–¶ï¸</button>
    </div>
  </div>

  <!-- Ø¨Ø·Ø§Ù‚Ø§Øª Ù…ØªØ³Ù„Ø³Ù„Ø© ÙˆÙƒØ¨ÙŠØ±Ø© -->
  <section class="flow">

    <article class="card">
      <h2><span class="step">1</span> ÙˆØµÙ Ø§Ù„Ø¯Ø±Ø³</h2>
      <p>
        ÙŠÙ‡Ø¯Ù Ø§Ù„Ø¯Ø±Ø³ Ø¥Ù„Ù‰ ØªÙ†Ù…ÙŠØ© ÙˆØ¹ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø© Ø¨Ù…Ø®Ø§Ø·Ø± ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ
        ÙˆØªÙ…ÙƒÙŠÙ†Ù‡Ù… Ù…Ù† Ù…Ù…Ø§Ø±Ø³Ø© Ø³Ù„ÙˆÙƒ Ø±Ù‚Ù…ÙŠ Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ø¨Ø± <b>ØªØ·Ø¨ÙŠÙ‚ Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø£Ù…Ø§Ù†</b>ØŒ
        ÙˆØ§Ø­ØªØ±Ø§Ù… <b>Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ† ÙˆØ§Ù„Ù…Ù„ÙƒÙŠØ© Ø§Ù„ÙÙƒØ±ÙŠØ©</b>.
      </p>
      <div class="pills">
        <span class="pill">ØªÙ†Ù…Ù‘Ø± Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</span>
        <span class="pill">Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</span>
        <span class="pill">Ø§Ù„ØªØ­Ù‚Ù‚ Ø¨Ø®Ø·ÙˆØªÙŠÙ†</span>
        <span class="pill">Ù‡ÙˆÙŠØ© Ø±Ù‚Ù…ÙŠØ©</span>
      </div>
    </article>

    <!-- ========= Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ³: Ø¹ØµÙ Ø°Ù‡Ù†ÙŠ ========= -->
    <article class="card" id="s-brainstorm">
      <h2><span class="step">2</span> Ø§Ù„Ø¹ØµÙ Ø§Ù„Ø°Ù‡Ù†ÙŠ: Â«Ø­Ø§Ø¦Ø· Ø§Ù„Ù…Ø®Ø§Ø·Ø±Â»</h2>
      <p>Ø£Ø¶Ù Ø£ÙƒØ¨Ø± Ø¹Ø¯Ø¯ Ù…Ù† Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„. Ø³ÙŠØ¬Ø±ÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… ØªØµÙ†ÙŠÙÙ‹Ø§ Ø°ÙƒÙŠÙ‹Ø§ ÙˆÙŠØ¹Ø±Ø¶ Ø¹Ø¯Ù‘Ø§Ø¯Ù‹Ø§ Ù„ÙƒÙ„ ÙØ¦Ø©.</p>
      <div class="activity">
        <div class="tag">ØªÙØ§Ø¹Ù„ ÙÙˆØ±ÙŠ</div>
        <div style="display:flex; gap:8px; flex-wrap:wrap; margin-top:8px">
          <input id="ideaInput" placeholder="Ø§ÙƒØªØ¨ Ø®Ø·Ø±Ù‹Ø§ Ù…Ø«Ù„: Ø§Ù†ØªØ­Ø§Ù„ Ø§Ù„Ù‡ÙˆÙŠØ© / Ø§Ø­ØªÙŠØ§Ù„ / ØªÙ†Ù…Ø±..." style="flex:1; min-width:260px; font-size:18px; padding:10px 12px; border:1px solid #e2e8f0; border-radius:10px"/>
          <button class="btn btn-primary" id="addIdea">Ø¥Ø¶Ø§ÙØ©</button>
          <button class="btn" id="clearIdeas">Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ÙƒÙ„</button>
        </div>
        <div class="wall" id="ideaWall" aria-live="polite"></div>
        <div style="display:grid; grid-template-columns:repeat(4,1fr); gap:10px; margin-top:10px">
          <div class="chip"><small>ğŸ›¡ï¸ Ø£Ù…Ø§Ù†/Ø®ØµÙˆØµÙŠØ©</small> <b id="c-privacy">0</b></div>
          <div class="chip"><small>ğŸ’¬ Ø³Ù„ÙˆÙƒ/ØªÙ†Ù…Ù‘Ø±</small> <b id="c-behavior">0</b></div>
          <div class="chip"><small>ğŸ£ Ø§Ø­ØªÙŠØ§Ù„/Ø±ÙˆØ§Ø¨Ø·</small> <b id="c-phish">0</b></div>
          <div class="chip"><small>ğŸ•’ ÙˆÙ‚Øª/Ø¥Ø¯Ù…Ø§Ù†</small> <b id="c-time">0</b></div>
        </div>
      </div>
    </article>

    <!-- ========= Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ³: Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„ØªØ¹Ø§ÙˆÙ†ÙŠ ========= -->
    <article class="card" id="s-coop">
      <h2><span class="step">3</span> Ø§Ù„ØªØ¹Ù„Ù‘Ù… Ø§Ù„ØªØ¹Ø§ÙˆÙ†ÙŠ: Â«Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Ø§Ù„Ø­Ù…Ø§ÙŠØ©Â»</h2>
      <p>ÙƒÙˆÙ‘Ù† Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Ø­Ù…Ø§ÙŠØ© Ù„Ø·Ø§Ù„Ø¨Ø© ØªØªØ¹Ø±Ø¶ Ù„Ù…Ø¶Ø§ÙŠÙ‚Ø§Øª. ÙØ¹Ù‘ÙÙ„ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø­Ù…Ø§ÙŠØ© ÙˆØ³ÙŠØ­Ø³Ø¨ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¯Ø±Ø¬Ø© Ø§Ù„Ø£Ù…Ø§Ù†.</p>
      <div class="activity">
        <div class="tag">Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ â‰¥ 80%</div>
        <div style="display:grid; grid-template-columns:repeat(2,1fr); gap:10px; margin-top:10px">
          <label class="chip"><input type="checkbox" class="pp" data-w="25" /> ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ­Ù‚Ù‚ Ø¨Ø®Ø·ÙˆØªÙŠÙ† (2FA)</label>
          <label class="chip"><input type="checkbox" class="pp" data-w="20" /> Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¹Ù† ØºÙŠØ± Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ†</label>
          <label class="chip"><input type="checkbox" class="pp" data-w="15" /> Ø¥ÙŠÙ‚Ø§Ù Ù…Ø´Ø§Ø±ÙƒØ© Â«Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Â»</label>
          <label class="chip"><input type="checkbox" class="pp" data-w="10" /> Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø£Ø°ÙˆÙ†Ø§Øª Ù„Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…ØªØµÙ„Ø©</label>
          <label class="chip"><input type="checkbox" class="pp" data-w="15" /> Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒÙ„Ù…Ø§Øª Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ© ÙˆÙ…Ø®ØªÙ„ÙØ©</label>
          <label class="chip"><input type="checkbox" class="pp" data-w="15" /> Ø­Ø¸Ø± Ø§Ù„Ù…ÙØ³ÙŠØ¦ÙŠÙ† ÙˆØ§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù†Ù‡Ù…</label>
        </div>
        <div class="meter" style="margin-top:12px"><div class="v" id="safetyVal"></div></div>
        <div style="display:flex; gap:8px; align-items:center; margin-top:8px">
          <div><b>Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©:</b> <span id="scoreTxt">0%</span></div>
          <button class="btn btn-primary" id="applyProtocol">ØªØ­Ù‚Ù‘Ù‚</button>
        </div>
      </div>
    </article>

    <!-- ========= Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ³: Ø¯Ø±Ø§Ø³Ø© Ø­Ø§Ù„Ø© ========= -->
    <article class="card" id="s-case">
      <h2><span class="step">4</span> Ø¯Ø±Ø§Ø³Ø© Ø­Ø§Ù„Ø©: Â«Ø§Ø®ØªÙŠØ§Ø±Ø§Øª Ù…Ø³Ø¤ÙˆÙ„Ø©Â»</h2>
      <p>Ø³ØªØ¸Ù‡Ø± Ø­Ø§Ù„Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©. Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„Ø£Ù†Ø³Ø¨. Ø³ÙŠÙ‚Ø¯Ù… Ø§Ù„Ù†Ø¸Ø§Ù… ØªØºØ°ÙŠØ© Ø±Ø§Ø¬Ø¹Ø© Ù…Ø¨Ø±Ø±Ø©.</p>
      <div class="activity">
        <div class="tag">Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø¹Ø´ÙˆØ§Ø¦ÙŠ</div>
        <div id="caseBox" style="font-weight:900; margin:8px 0"></div>
        <div style="display:grid; gap:10px">
          <button class="btn caseOpt" data-i="0"></button>
          <button class="btn caseOpt" data-i="1"></button>
          <button class="btn caseOpt" data-i="2"></button>
        </div>
        <div id="caseFeedback" class="result" style="display:none"></div>
      </div>
    </article>

    <!-- ========= Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ³: Ø¹Ø±Ø¶ ØªÙˆØ¶ÙŠØ­ÙŠ (Ù…Ø­Ø§ÙƒÙŠ Ø§Ù„Ø®ØµÙˆØµÙŠØ©) ========= -->
    <article class="card" id="s-demo">
      <h2><span class="step">5</span> Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠ: Â«Ù…Ø­Ø§ÙƒÙŠ Ø§Ù„Ø®ØµÙˆØµÙŠØ©Â»</h2>
      <p>Ø­Ø±Ù‘Ùƒ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù„ØªÙƒÙˆÙŠÙ† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø®ØµÙˆØµÙŠØ© Ø¢Ù…Ù†Ø©. Ø¹Ù†Ø¯ Ø¨Ù„ÙˆØº Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¢Ù…Ù† Ø³ÙŠØ¸Ù‡Ø± Ø¥Ø´Ø¹Ø§Ø± Ù†Ø¬Ø§Ø­.</p>
      <div class="activity">
        <div class="tag">Ù…Ø­Ø§ÙƒØ§Ø©</div>
        <div style="display:grid; grid-template-columns:repeat(2,1fr); gap:10px; margin-top:8px">
          <label class="chip"><input type="checkbox" class="sim" data-w="20" checked/> Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¸Ù‡ÙˆØ± Ù„Ù„ØºØ±Ø¨Ø§Ø¡</label>
          <label class="chip"><input type="checkbox" class="sim" data-w="25" checked/> ØªÙØ¹ÙŠÙ„ 2FA</label>
          <label class="chip"><input type="checkbox" class="sim" data-w="15" /> Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±</label>
          <label class="chip"><input type="checkbox" class="sim" data-w="20" /> Ø·Ù„Ø¨ Ù…ÙˆØ§ÙÙ‚Ø© Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø´Ø§Ø±Ø©</label>
          <label class="chip"><input type="checkbox" class="sim" data-w="10" /> Ù…Ø±Ø§Ø¬Ø¹Ø© ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª</label>
          <label class="chip"><input type="checkbox" class="sim" data-w="10" /> Ø¥Ø®ÙØ§Ø¡ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯</label>
        </div>
        <div class="meter" style="margin-top:12px"><div class="v" id="simVal" style="width:45%"></div></div>
        <div style="margin-top:8px"><b>Ù…Ø¤Ø´Ø± Ø§Ù„Ø£Ù…Ø§Ù†:</b> <span id="simTxt">45%</span></div>
      </div>
    </article>

    <!-- ========= ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ø¥ÙŠØ¶Ø§Ø­: Ø¨Ø·Ø§Ù‚Ø§Øª Ø¢Ù…Ù†/ØºÙŠØ± Ø¢Ù…Ù† ========= -->
    <article class="card" id="v-flips">
      <h2><span class="step">6</span> ÙˆØ³Ø§Ø¦Ù„ Ø¥ÙŠØ¶Ø§Ø­: Â«Ø¢Ù…Ù† Ø£Ù… ØºÙŠØ± Ø¢Ù…Ù†ØŸÂ»</h2>
      <p>Ø§Ù‚Ù„Ø¨ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„ØªÙØ³ÙŠØ±.</p>
      <div class="flipgrid">
        <div class="flip safe">
          <div class="inner">
            <div class="front"><b>Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ</b></div>
            <div class="back"><b>Ø¢Ù…Ù†</b> â€” ÙŠÙ…Ù†Ø¹ Ø§Ù„ØªØªØ¨Ø¹. ğŸ‘</div>
          </div>
        </div>
        <div class="flip unsafe">
          <div class="inner">
            <div class="front"><b>Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ø¹Ù„Ù†Ù‹Ø§</b></div>
            <div class="back"><b>ØºÙŠØ± Ø¢Ù…Ù†</b> â€” Ù‚Ø¯ ÙŠØ¹Ø±Ù‘Ø¶Ùƒ Ù„Ù…Ø®Ø§Ø·Ø±. âš ï¸</div>
          </div>
        </div>
        <div class="flip safe">
          <div class="inner">
            <div class="front"><b>Ø·Ù„Ø¨ Ù…ÙˆØ§ÙÙ‚Ø© Ù‚Ø¨Ù„ Ù†Ø´Ø± ØµÙˆØ±Ø© Ø¬Ù…Ø§Ø¹ÙŠØ©</b></div>
            <div class="back"><b>Ø¢Ù…Ù†</b> â€” ÙŠØ­ØªØ±Ù… Ø§Ù„Ø®ØµÙˆØµÙŠØ© ÙˆØ§Ù„Ø­Ù‚ÙˆÙ‚. âœ…</div>
          </div>
        </div>
        <div class="flip unsafe">
          <div class="inner">
            <div class="front"><b>Ø±ÙˆØ§Ø¨Ø· Ù‡Ø¯Ø§ÙŠØ§ Ù…Ø¬Ù‡ÙˆÙ„Ø© Ø§Ù„Ù…ØµØ¯Ø±</b></div>
            <div class="back"><b>ØºÙŠØ± Ø¢Ù…Ù†</b> â€” Ù‚Ø¯ ØªÙƒÙˆÙ† ØªØµÙŠÙ‘Ø¯Ù‹Ø§. ğŸš«</div>
          </div>
        </div>
      </div>
      <div style="margin-top:10px"><button class="btn" id="shuffleFlips">Ø®Ù„Ø· Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª</button></div>
    </article>

    <!-- ========= ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ø¥ÙŠØ¶Ø§Ø­: Ø¥Ù†ÙÙˆØ¬Ø±Ø§ÙÙŠÙƒ Ø­ÙŠ (ØªØ±ØªÙŠØ¨ Ø§Ù„Ø®Ø·ÙˆØ§Øª) ========= -->
    <article class="card" id="v-steps">
      <h2><span class="step">7</span> ÙˆØ³Ø§Ø¦Ù„ Ø¥ÙŠØ¶Ø§Ø­: Â«Ø³Ù„Ù… Ø§Ù„Ø­Ù…Ø§ÙŠØ©Â» (Ø±ØªÙ‘Ø¨ Ø§Ù„Ø®Ø·ÙˆØ§Øª)</h2>
      <p>Ø±ØªÙ‘Ø¨ Ø®Ø·ÙˆØ§Øª Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„ØµØ­ÙŠØ­. Ø¹Ù†Ø¯ Ø§Ù„Ù†Ø¬Ø§Ø­ Ø³ØªØ³Ù…Ø¹ Ø¥Ø´Ø¹Ø§Ø±Ù‹Ø§ ğŸ‰</p>
      <div class="steps" id="stepsList"></div>
      <div style="margin-top:8px"><button class="btn btn-primary" id="checkOrder">ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ±ØªÙŠØ¨</button></div>
    </article>

    <!-- ========= Ø§Ø®ØªØ¨Ø§Ø± 10 Ø£Ø³Ø¦Ù„Ø© ========= -->
    <article class="card">
      <h2><span class="step">8</span> Ø§Ø®ØªØ¨Ø§Ø± ØªÙØ§Ø¹Ù„ÙŠ (10 Ø£Ø³Ø¦Ù„Ø©)</h2>
      <div class="quiz" id="quiz10"></div>
    </article>

  </section>
</div>

<script>
/* ====================== Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙˆØª ====================== */
const AUDIO_BASE = "../../assets/audio/";
const sounds = {
  click:"Click.mp3",
  page:"page-turn.mp3",
  notify:"notification-pop.mp3",
  clap:"clap.mp3",
  wrong:"wrong_answer.mp3",
  robot:"robot-voice.mp3",
  fanfare:"royal-fanfare.mp3"
};
const audio = {};
let soundOn = true, volume = 0.5;

function loadAudio(){
  for(const [k,f] of Object.entries(sounds)){
    const a = new Audio(AUDIO_BASE + f);
    a.preload = "auto"; a.volume = volume; audio[k] = a;
  }
}
function play(name){
  if(!soundOn) return;
  const a = audio[name]; if(a){ try{ a.currentTime = 0; a.volume = volume; a.play(); }catch(e){} }
}

/* ====================== 2) Ø§Ù„Ø¹ØµÙ Ø§Ù„Ø°Ù‡Ù†ÙŠ â€” Ø­Ø§Ø¦Ø· Ø§Ù„Ù…Ø®Ø§Ø·Ø± ====================== */
const catRules = [
  {k:/Ø®ØµÙˆØµ|Ù‡ÙˆÙŠØ©|ÙƒÙ„Ù…Ø©|Ù…Ø±ÙˆØ±|Ø­Ø³Ø§Ø¨|Ø®ØµÙˆØµÙŠØ©|Ù…Ù„Ù|ØµÙˆØ±Ø©|Ù…ÙˆÙ‚Ø¹/i, id:"c-privacy"},
  {k:/ØªÙ†Ù…Ø±|Ø³Ø®Ø±|Ø¥Ù‡Ø§Ù†|Ø¥ÙŠØ°Ø§Ø¡|Ø§Ø¨ØªØ²Ø§Ø²|Ø§Ø³ØªÙØ²Ø§Ø²/i, id:"c-behavior"},
  {k:/Ø±Ø§Ø¨Ø·|Ø§Ø­ØªÙŠØ§Ù„|ØªØµÙŠØ¯|Ù‡Ø¯ÙŠ|Ø±Ø¨Ø­|ÙƒÙˆØ¯|ØªØ­Ù‚Ù‚|OTP/i, id:"c-phish"},
  {k:/ÙˆÙ‚Øª|Ø¥Ø¯Ù…Ø§Ù†|Ø³Ù‡Ø±|Ø¥Ù„Ù‡Ø§Ø¡|ØªØ´ØªÙŠØª/i, id:"c-time"},
];

function addIdeaChip(text){
  const wall = document.getElementById("ideaWall");
  const chip = document.createElement("span");
  chip.className = "chip";
  chip.innerHTML = `<span>ğŸ§  ${text}</span> <span class="x">âœ–</span>`;
  chip.querySelector(".x").addEventListener("click", () => { chip.remove(); recount(); play("click"); });
  wall.appendChild(chip);
  play("click");
  classify(text);
}
function classify(text){
  let matched = false;
  for(const r of catRules){
    if(r.k.test(text)){ const b = document.getElementById(r.id); b.textContent = (+b.textContent + 1); matched = true; }
  }
  if(!matched){ /* Ù„Ùˆ Ù„Ø§ ÙŠÙ†Ø·Ø¨Ù‚ Ø¹Ù„Ù‰ Ù‚ÙˆØ§Ø¹Ø¯ Ù…Ø­Ø¯Ø¯Ø©ØŒ Ù†Ø­Ø³Ø¨Ù‡ Ù„Ù„Ø®ØµÙˆØµÙŠØ© Ø¨Ø´ÙƒÙ„ Ø¹Ø§Ù… */ const b = document.getElementById("c-privacy"); b.textContent = (+b.textContent + 1); }
}
function recount(){
  ["c-privacy","c-behavior","c-phish","c-time"].forEach(id => document.getElementById(id).textContent = "0");
  document.querySelectorAll("#ideaWall .chip").forEach(ch => {
    const t = ch.firstChild.textContent || "";
    classify(t);
  });
}

/* ====================== 3) Ø§Ù„ØªØ¹Ù„Ù‘Ù… Ø§Ù„ØªØ¹Ø§ÙˆÙ†ÙŠ â€” Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Ø§Ù„Ø­Ù…Ø§ÙŠØ© ====================== */
function calcSafety(){
  let s = 0;
  document.querySelectorAll(".pp").forEach(cb => { if(cb.checked) s += (+cb.dataset.w||0); });
  s = Math.min(100, s);
  document.getElementById("safetyVal").style.width = s + "%";
  document.getElementById("scoreTxt").textContent = s + "%";
  return s;
}

/* ====================== 4) Ø¯Ø±Ø§Ø³Ø© Ø­Ø§Ù„Ø© â€” Ø§Ø®ØªÙŠØ§Ø±Ø§Øª Ù…Ø³Ø¤ÙˆÙ„Ø© ====================== */
const CASES = [
  {
    t: "ÙˆØµÙ„Ùƒ Ø¹Ø±Ø¶ ÙÙˆØ² Ø¨Ù‡Ø¯ÙŠØ© Ø¹Ø¨Ø± Ø±Ø³Ø§Ù„Ø© Ø®Ø§ØµØ© Ù…Ø¹ Ø±Ø§Ø¨Ø· Ù‚ØµÙŠØ±.",
    o: ["ÙØªØ­ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø¢Ù† Ù‚Ø¨Ù„ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø¹Ø±Ø¶","Ø³Ø¤Ø§Ù„ Ø§Ù„Ù…Ø±Ø³Ù„ Ø¹Ù† Ø¨ÙŠØ§Ù†Ø§ØªÙ‡ ÙˆÙ…ØµØ¯Ø± Ø§Ù„Ø¹Ø±Ø¶ Ø«Ù… Ø§Ù„ÙØªØ­","ØªØ¬Ø§Ù‡Ù„/Ø§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù† Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙˆØ§Ù„ØªØ­Ù‚Ù‚ Ø¹Ø¨Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø±Ø³Ù…ÙŠ"],
    c: 2,
    f: ["âŒ Ù…Ø®Ø§Ø·Ø±Ø© Ø¹Ø§Ù„ÙŠØ© (ØªØµÙŠÙ‘Ø¯).","âš ï¸ Ù…Ø§ ÙŠØ²Ø§Ù„ Ø®Ø·Ø±Ù‹Ø§ Ù„Ø£Ù† Ø§Ù„Ø±Ø§Ø¨Ø· ØºÙŠØ± Ù…ÙˆØ«ÙˆÙ‚.","âœ… Ø§Ù„ØµØ­ÙŠØ­: Ù„Ø§ ØªØ¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¹Ø¨Ø± Ø±ÙˆØ§Ø¨Ø· Ù…Ø¬Ù‡ÙˆÙ„Ø© â€” Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ©."]
  },
  {
    t: "Ø²Ù…ÙŠÙ„ Ù†Ø´Ø± ØµÙˆØ±ØªÙƒ Ø¯ÙˆÙ† Ø¥Ø°Ù† ÙÙŠ Ø­Ø³Ø§Ø¨ Ø¹Ø§Ù….",
    o: ["Ø·Ù„Ø¨ Ø§Ù„Ø¥Ø²Ø§Ù„Ø© Ø¨Ø£Ø¯Ø¨ Ø«Ù… Ø§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¥Ø°Ø§ Ø±ÙØ¶","Ù†Ø´Ø± ØªØ¹Ù„ÙŠÙ‚ Ø¬Ø§Ø±Ø­ ØªØ­Øª Ø§Ù„ØµÙˆØ±Ø©","Ø¥Ø¹Ø§Ø¯Ø© Ù†Ø´Ø± Ø§Ù„ØµÙˆØ±Ø© Ù…Ø¹ Ø³Ø®Ø±ÙŠØ©"],
    c: 0,
    f: ["âœ… ÙŠØ­ØªØ±Ù… Ø§Ù„Ø®ØµÙˆØµÙŠØ© ÙˆØ§Ù„Ù‚Ø§Ù†ÙˆÙ†.","âŒ Ù‡Ø°Ø§ ØªÙ†Ù…Ø± ÙŠØ²ÙŠØ¯ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©.","âŒ ÙŠØ¶Ø§Ø¹Ù Ø§Ù„Ø¶Ø±Ø± ÙˆÙŠÙ†ØªÙ‡Ùƒ Ø­Ù‚ÙˆÙ‚Ù‹Ø§."]
  },
  {
    t: "ØªÙ„Ù‚ÙŠØª Ø±Ø³Ø§Ø¦Ù„ ØªÙ‡Ø¯ÙŠØ¯ Ù„Ø§Ø¨ØªØ²Ø§Ø²Ùƒ Ø¨Ø¹Ø¯ Ù†Ø´Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø®Ø§ØµØ©.",
    o: ["Ø§Ù„ØªØ¬Ø§ÙˆØ¨ ÙˆØ§Ù„Ø¯ÙØ¹ Ù„Ø¥ÙŠÙ‚Ø§ÙÙ‡","Ø§Ù„ØªÙˆÙ‚Ù Ø¹Ù† Ø§Ù„ØªÙˆØ§ØµÙ„ ÙˆØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ø£Ø¯Ù„Ø© ÙˆØ§Ù„ØªØ¨Ù„ÙŠØº ÙˆØ·Ù„Ø¨ Ø§Ù„Ø¯Ø¹Ù…","Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ ÙÙ‚Ø·"],
    c: 1,
    f: ["âŒ Ø§Ù„Ø¯ÙØ¹ Ù„Ø§ ÙŠÙˆÙ‚Ù Ø§Ù„Ø§Ø¨ØªØ²Ø§Ø² ØºØ§Ù„Ø¨Ù‹Ø§.","âœ… ÙˆØ«Ù‘Ù‚ ÙˆØ¨Ù„Ù‘Øº ÙˆØ§Ø·Ù„Ø¨ Ù…Ø³Ø§Ù†Ø¯Ø© Ø±Ø³Ù…ÙŠØ©/Ø£Ø³Ø±ÙŠØ©.","âš ï¸ Ø§Ù„Ø­Ø°Ù ÙˆØ­Ø¯Ù‡ Ù‚Ø¯ Ù„Ø§ ÙŠØ­Ù…ÙŠÙƒ ÙˆÙ„Ø§ ÙŠÙˆÙ‚Ù Ø§Ù„Ø¬Ø§Ù†ÙŠ."]
  }
];
let currentCase = 0;
function loadCase(){
  currentCase = Math.floor(Math.random() * CASES.length);
  const c = CASES[currentCase];
  document.getElementById("caseBox").textContent = "âš–ï¸ Ø§Ù„Ø­Ø§Ù„Ø©: " + c.t;
  document.querySelectorAll(".caseOpt").forEach((b,i)=>{
    b.disabled = false; b.classList.remove("correct","wrong");
    b.textContent = c.o[i];
  });
  const fb = document.getElementById("caseFeedback");
  fb.style.display = "none"; fb.textContent = "";
}

/* ====================== 5) Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠ â€” Ù…Ø­Ø§ÙƒÙŠ Ø§Ù„Ø®ØµÙˆØµÙŠØ© ====================== */
function calcSim(){
  let s = 0;
  document.querySelectorAll(".sim").forEach(cb => { if(cb.checked) s += (+cb.dataset.w||0); });
  s = Math.min(100, s);
  document.getElementById("simVal").style.width = s + "%";
  document.getElementById("simTxt").textContent = s + "%";
  if(s >= 80){ play("notify"); }
}

/* ====================== 6) ÙˆØ³Ø§Ø¦Ù„ Ø¥ÙŠØ¶Ø§Ø­ â€” Ø¨Ø·Ø§Ù‚Ø§Øª Ù‚Ù„Ø¨ÙŠØ© ====================== */
function bindFlips(){
  document.querySelectorAll(".flip").forEach(f=>{
    f.addEventListener("click", ()=>{
      f.classList.toggle("flipped");
      play("page");
    });
  });
}
function shuffleFlips(){
  const grid = document.querySelector(".flipgrid");
  const arr = Array.from(grid.children);
  arr.sort(()=> Math.random() - .5);
  arr.forEach(el=> grid.appendChild(el));
  play("click");
}

/* ====================== 7) ÙˆØ³Ø§Ø¦Ù„ Ø¥ÙŠØ¶Ø§Ø­ â€” ØªØ±ØªÙŠØ¨ Ø§Ù„Ø®Ø·ÙˆØ§Øª (Ø¥Ù†ÙÙˆØ¬Ø±Ø§ÙÙŠÙƒ Ø­ÙŠ) ====================== */
const stepsTrueOrder = [
  "Ø¥Ù†Ø´Ø§Ø¡ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ© ÙˆÙØ±ÙŠØ¯Ø©",
  "ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ­Ù‚Ù‚ Ø¨Ø®Ø·ÙˆØªÙŠÙ† (2FA)",
  "Ù…Ø±Ø§Ø¬Ø¹Ø© Ø£Ø°ÙˆÙ†Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø©",
  "Ø¥ÙŠÙ‚Ø§Ù Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±",
  "Ø·Ù„Ø¨ Ù…ÙˆØ§ÙÙ‚Ø© Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø´Ø§Ø±Ø©/Ø§Ù„ÙˆØ³Ù…",
];
function renderSteps(){
  const list = document.getElementById("stepsList");
  const shuffled = [...stepsTrueOrder].sort(()=> Math.random()-.5);
  list.innerHTML = "";
  shuffled.forEach((title,idx)=>{
    const row = document.createElement("div");
    row.className = "stepitem"; row.dataset.title = title;
    row.innerHTML = `
      <span class="title">ğŸ”¹ ${title}</span>
      <span class="ctrls">
        <button class="btn up">â¬†ï¸</button>
        <button class="btn down">â¬‡ï¸</button>
      </span>`;
    row.querySelector(".up").onclick = ()=>{ if(row.previousElementSibling){ row.parentElement.insertBefore(row, row.previousElementSibling); play("click"); } };
    row.querySelector(".down").onclick = ()=>{ if(row.nextElementSibling){ row.parentElement.insertBefore(row.nextElementSibling, row); play("click"); } };
    list.appendChild(row);
  });
}
function checkOrder(){
  const arr = Array.from(document.querySelectorAll("#stepsList .stepitem")).map(x=> x.dataset.title);
  const ok = arr.every((t,i)=> t === stepsTrueOrder[i]);
  if(ok){ play("fanfare"); toast("ØªØ±ØªÙŠØ¨ ØµØ­ÙŠØ­! Ù…Ù…ØªØ§Ø² ğŸ‘", true); }
  else  { play("wrong");  toast("Ø§Ù„ØªØ±ØªÙŠØ¨ ØºÙŠØ± ØµØ­ÙŠØ­ â€” Ø¬Ø±Ù‘Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.", false); }
}
function toast(msg,good){
  const t = document.createElement("div");
  t.textContent = msg;
  t.style.cssText = `
    position:fixed; bottom:24px; right:24px; z-index:9999; padding:12px 14px; border-radius:12px;
    font-weight:900; background:${good?"#dcfce7":"#fee2e2"}; border:1px solid #e2e8f0; box-shadow:${good?"0 10px 20px rgba(34,197,94,.2)":"0 10px 20px rgba(239,68,68,.2)"};
  `;
  document.body.appendChild(t);
  setTimeout(()=> t.remove(), 2000);
}

/* ====================== 8) Ø§Ø®ØªØ¨Ø§Ø± 10 Ø£Ø³Ø¦Ù„Ø© ====================== */
const QUIZ_QUESTIONS = [
  { q:"Ø£ÙØ¶Ù„ ÙˆØµÙ Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ù‚ÙˆÙŠØ© Ù‡Ùˆ:", a:["Ù‚ØµÙŠØ±Ø© ÙˆØ³Ù‡Ù„Ø© Ù…Ø«Ù„ 123456","ØªØªØ¶Ù…Ù† Ø£Ø­Ø±ÙÙ‹Ø§ ÙƒØ¨ÙŠØ±Ø© ÙˆØµØºÙŠØ±Ø© ÙˆØ£Ø±Ù‚Ø§Ù…Ù‹Ø§ ÙˆØ±Ù…ÙˆØ²Ù‹Ø§ ÙˆØ·ÙˆÙ„ 12+","Ù†ÙØ³ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ø¨Ø±ÙŠØ¯","Ø§Ø³Ù…Ùƒ Ù…Ø¹ Ø³Ù†Ø© Ù…ÙŠÙ„Ø§Ø¯Ùƒ"], c:1 },
  { q:"Ù…Ø§Ø°Ø§ ØªÙØ¹Ù„ Ø¹Ù†Ø¯ Ø§Ø³ØªÙ„Ø§Ù… Ø±Ø§Ø¨Ø· ØºØ±ÙŠØ¨ Ù…Ù† Ù…Ø¬Ù‡ÙˆÙ„ØŸ", a:["Ø£ÙØªØ­Ù‡ Ù…Ø¨Ø§Ø´Ø±Ø©","Ø£Ø´Ø§Ø±ÙƒÙ‡ Ù…Ø¹ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡","Ø£ØªØ¬Ø§Ù‡Ù„Ù‡/Ø£ØªØ­Ù‚Ù‚ Ø£ÙˆÙ„Ù‹Ø§ ÙˆØ£Ø³ØªØ®Ø¯Ù… Ù…Ø§Ø³Ø­ Ø§Ù„Ø±ÙˆØ§Ø¨Ø·","Ø£Ø±Ø¯ Ø¨Ø±Ø³Ø§Ù„Ø© Ø´Ø®ØµÙŠØ©"], c:2 },
  { q:"Ø£ÙŠ Ù…Ù…Ø§ ÙŠÙ„ÙŠ ÙŠÙØ¹Ø¯ ØªÙ†Ù…Ø±Ù‹Ø§ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠÙ‹Ø§ØŸ", a:["Ù†Ù‚Ø¯ Ø¨Ù†Ù‘Ø§Ø¡ Ù„Ù„ÙÙƒØ±Ø©","Ù…Ø±Ø§Ø³Ù„Ø§Øª Ù„Ø·ÙŠÙØ©","Ø³Ø®Ø±ÙŠØ© Ù…ØªÙƒØ±Ø±Ø© ÙˆØ±Ø³Ø§Ø¦Ù„ Ø¬Ø§Ø±Ø­Ø© ÙˆÙ†Ø´Ø± Ø´Ø§Ø¦Ø¹Ø§Øª","Ø¹Ø¯Ù… Ø§Ù„Ø±Ø¯"], c:2 },
  { q:"Ù†Ø´Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ:", a:["Ø¢Ù…Ù† Ø¯Ø§Ø¦Ù…Ù‹Ø§","Ù‚Ø¯ ÙŠØ¹Ø±Ù‘Ø¶Ùƒ Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„ØªØªØ¨Ø¹ Ø£Ùˆ Ø§Ù„Ø³Ø±Ù‚Ø©","Ù…Ø·Ù„ÙˆØ¨ Ù„ÙƒÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª","Ù„Ø§ ØªØ£Ø«ÙŠØ± Ù„Ù‡"], c:1 },
  { q:"Ø£ÙØ¶Ù„ Ø¥Ø¬Ø±Ø§Ø¡ Ø¹Ù†Ø¯ Ø§Ù„ØªØ¹Ø±Ù‘Ø¶ Ù„Ø§Ø¨ØªØ²Ø§Ø² Ø¨Ø¹Ø¯ Ù…Ø´Ø§Ø±ÙƒØ© ØµÙˆØ±Ø© Ø®Ø§ØµØ©:", a:["Ø§Ù„Ø¯ÙØ¹ ÙÙˆØ±Ù‹Ø§","Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ ÙˆØ§Ù„Ø§Ø®ØªÙØ§Ø¡","ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ø£Ø¯Ù„Ø© ÙˆØ§Ù„ØªÙˆÙ‚Ù Ø¹Ù† Ø§Ù„ØªÙØ§Ø¹Ù„ ÙˆØ§Ù„ØªØ¨Ù„ÙŠØº ÙˆØ·Ù„Ø¨ Ø§Ù„Ù…Ø³Ø§Ù†Ø¯Ø©","Ù…Ø¬Ø§Ø¯Ù„Ø© Ø§Ù„Ù…Ø¨ØªØ²"], c:2 },
  { q:"Ø§Ù„ØªØ­Ù‚Ù‚ Ø¨Ø®Ø·ÙˆØªÙŠÙ† (2FA) ÙŠØ¹Ù†ÙŠ:", a:["ÙØªØ­ Ø§Ù„Ø­Ø³Ø§Ø¨ Ù…Ù† Ø¬Ù‡Ø§Ø²ÙŠÙ†","Ø·Ø¨Ù‚Ø© Ø£Ù…Ø§Ù† Ø¨Ø±Ù…Ø² Ù„Ù„Ù‡Ø§ØªÙ/Ø§Ù„ØªØ·Ø¨ÙŠÙ‚","ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠÙˆÙ…ÙŠÙ‹Ø§","Ø§Ù„Ø³Ù…Ø§Ø­ Ù„Ù„Ø¬Ù…ÙŠØ¹ Ø¨Ø§Ù„Ø±Ø¤ÙŠØ©"], c:1 },
  { q:"Ù…Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„ØµØ­ÙŠØ­ Ø¹Ù†Ø¯ Ø±Ø¤ÙŠØ© Ù…Ø­ØªÙˆÙ‰ Ù…Ù†ØªÙ‡Ùƒ Ù„Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ù„ÙƒÙŠØ©ØŸ", a:["Ø¥Ø¹Ø§Ø¯Ø© Ù†Ø´Ø±Ù‡ Ø¨Ù„Ø§ Ø°ÙƒØ± Ø§Ù„Ù…ØµØ¯Ø±","Ù†Ø³Ø¨Ù‡ Ù„Ù†ÙØ³ÙŠ","Ø°ÙƒØ± Ø§Ù„Ù…ØµØ¯Ø± Ø£Ùˆ Ø·Ù„Ø¨ Ø§Ù„Ø¥Ø°Ù† Ø£Ùˆ Ø§Ù„Ø§Ù…ØªÙ†Ø§Ø¹ Ø¹Ù† Ø§Ù„Ù†Ø´Ø±","ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ø§Ù„ØµÙˆØ±Ø© Ø«Ù… Ù†Ø´Ø±Ù‡Ø§"], c:2 },
  { q:"Ù‚Ø¨Ù„ Ù†Ø´Ø± ØµÙˆØ±Ø© Ø¬Ù…Ø§Ø¹ÙŠØ© Ù„Ø²Ù…Ù„Ø§Ø¦Ùƒ:", a:["Ø§Ù†Ø´Ø±Ù‡Ø§ ÙÙˆØ±Ù‹Ø§","Ø§Ø·Ù„Ø¨ Ù…ÙˆØ§ÙÙ‚ØªÙ‡Ù… ÙˆØ§Ø­ØªØ±Ù… Ù…Ù† ÙŠØ±ÙØ¶ Ø§Ù„Ø¸Ù‡ÙˆØ±","Ø¶Ø¹ ÙÙ„Ø§ØªØ± Ø¬Ù…ÙŠÙ„Ø© ÙÙ‚Ø·","Ø§Ù†Ø´Ø±Ù‡Ø§ Ù…Ù†ØªØµÙ Ø§Ù„Ù„ÙŠÙ„"], c:1 },
  { q:"Ø¹Ù„Ø§Ù…Ø© ÙˆØ§Ø¶Ø­Ø© Ø¹Ù„Ù‰ Ø­Ø³Ø§Ø¨ Ù…Ø²ÙŠÙ:", a:["ØµÙˆØ±Ø© Ù…Ù„Ù Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø©","Ø§Ø³Ù… Ù…ÙˆØ«Ù‚ Ø±Ø³Ù…ÙŠÙ‹Ø§","Ø·Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø´Ø®ØµÙŠØ© Ø³Ø±ÙŠØ¹Ù‹Ø§ ÙˆØ±ÙˆØ§Ø¨Ø· ØºØ±ÙŠØ¨Ø© ÙˆØªØ§Ø±ÙŠØ® Ù…Ù†Ø´ÙˆØ±Ø§Øª Ù…Ø­Ø¯ÙˆØ¯","Ù…Ù†Ø´ÙˆØ±Ø§Øª Ù‚Ø¯ÙŠÙ…Ø© ÙˆÙ…ØªÙ†ÙˆØ¹Ø©"], c:2 },
  { q:"Ø¥Ø°Ø§ Ù†Ø´Ø±Øª Ù…Ø¹Ù„ÙˆÙ…Ø© Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø®Ø·Ø£:", a:["Ø§ØªØ±ÙƒÙ‡Ø§ ÙƒÙ…Ø§ Ù‡ÙŠ","Ø§Ø­Ø°Ù ÙÙˆØ±Ù‹Ø§ ÙˆØ±Ø§Ø¬Ø¹ Ù…Ù† Ø´Ø§Ù‡Ø¯ ÙˆØ¹Ø¯Ù‘Ù„ Ø§Ù„Ø®ØµÙˆØµÙŠØ© ÙˆØªØ¹Ù„Ù… Ù…Ù† Ø§Ù„Ù…ÙˆÙ‚Ù","Ø§Ø­Ø¬Ø¨ ØµØ¯ÙŠÙ‚Ù‹Ø§ ÙˆØ§Ø­Ø¯Ù‹Ø§","Ø£ØºÙ„Ù‚ Ø§Ù„Ù‡Ø§ØªÙ ÙŠÙˆÙ…Ù‹Ø§"], c:1 }
];
function renderQuiz10(containerId="quiz10"){
  const host = document.getElementById(containerId);
  if(!host) return;

  let score = 0;
  let answered = 0;

  const head = document.createElement("div");
  head.className = "q-card";
  head.innerHTML = `
    <div style="display:flex;justify-content:space-between;align-items:center;gap:8px;flex-wrap:wrap">
      <div class="q-title">Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù„ÙƒÙ„ Ø³Ø¤Ø§Ù„</div>
      <div class="hint">ğŸ’¡ Ø£Ù†Ù‡Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø«Ù… Ø§Ø¶ØºØ· <span class="kbd">Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©</span></div>
    </div>`;
  host.appendChild(head);

  QUIZ_QUESTIONS.forEach((item, idx)=>{
    const card = document.createElement("div");
    card.className = "q-card";
    card.innerHTML = `
      <div class="q-title">Ø³${idx+1} | ${item.q}</div>
      <div class="q-opts"></div>
      <div class="result" hidden>Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! ğŸ‘</div>
    `;
    const opts = card.querySelector(".q-opts");
    item.a.forEach((text, i)=>{
      const btn = document.createElement("button");
      btn.className = "btn";
      btn.type = "button";
      btn.innerHTML = `<span>${text}</span><span>â—</span>`;
      btn.addEventListener("click", ()=>{
        if(btn.dataset.locked === "1") return;
        [...opts.children].forEach(b => { b.disabled = true; b.dataset.locked = "1"; b.classList.remove("correct","wrong"); });
        const ok = (i === item.c);
        if(ok){ btn.classList.add("correct"); card.querySelector(".result").hidden = false; score++; play("clap"); confetti(12); }
        else  { btn.classList.add("wrong"); play("wrong"); }
        answered++;
      });
      opts.appendChild(btn);
    });
    host.appendChild(card);
  });

  const footer = document.createElement("div");
  footer.className = "q-card";
  footer.innerHTML = `
    <div style="display:flex;gap:10px;align-items:center;justify-content:space-between;flex-wrap:wrap">
      <div id="scoreText">Ø§Ù„Ù†ØªÙŠØ¬Ø©: 0 / ${QUIZ_QUESTIONS.length}</div>
      <div style="display:flex;gap:8px;align-items:center">
        <button class="btn btn-primary" id="showScore">Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©</button>
        <button class="btn" id="retry">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©</button>
      </div>
    </div>
  `;
  host.appendChild(footer);

  footer.querySelector("#showScore").addEventListener("click", ()=>{
    const scoreEl = footer.querySelector("#scoreText");
    scoreEl.textContent = `Ø§Ù„Ù†ØªÙŠØ¬Ø©: ${score} / ${QUIZ_QUESTIONS.length}`;
    if(answered === QUIZ_QUESTIONS.length){
      if(score >= 8){ play("fanfare"); confetti(28); }
      else { play("notify"); }
    }else{
      play("notify");
      scoreEl.textContent += " â€” Ø£ÙƒÙ…Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø£ÙˆÙ„Ù‹Ø§ âœ…";
    }
  });
  footer.querySelector("#retry").addEventListener("click", ()=>{
    play("page");
    host.innerHTML = ""; renderQuiz10(containerId);
  });
}

/* ============ Ù…Ø¤Ø«Ø±Ø§Øª Ø¹Ø§Ù…Ø© ============ */
function confetti(n=20){
  for(let i=0;i<n;i++){
    const s = document.createElement("span");
    const size = 7 + Math.random()*10;
    s.style.cssText = `
      position:fixed; width:${size}px; height:${size}px; border-radius:3px;
      background: hsl(${Math.random()*360}, 85%, 60%);
      top:-10px; right:${Math.random()*100}vw; transform:rotate(${Math.random()*360}deg);
      pointer-events:none; z-index:9999; box-shadow:0 0 6px rgba(0,0,0,.15)
    `;
    document.body.appendChild(s);
    const endY = window.innerHeight + 50;
    const drift = (Math.random()*.6 + .2) * (Math.random()<.5? -1:1);
    s.animate([
      { transform:`translate(0,0) rotate(0deg)` },
      { transform:`translate(${drift*60}px, ${endY}px) rotate(360deg)` }
    ], { duration: 1800 + Math.random()*900, easing:"cubic-bezier(.2,.6,.2,1)", fill:"forwards" });
    setTimeout(()=> s.remove(), 2800);
  }
}

/* ============ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø© ÙˆØ±Ø¨Ø· Ø§Ù„Ø£Ø­Ø¯Ø§Ø« ============ */
document.addEventListener("DOMContentLoaded", ()=>{
  loadAudio();

  // Ø´Ø±ÙŠØ· Ø§Ù„ØµÙˆØª
  document.getElementById("demoSound").addEventListener("click", ()=> play("notify"));
  document.getElementById("soundToggle").addEventListener("change", e => {
    soundOn = e.target.checked; if(soundOn) play("click");
  });
  document.getElementById("volume").addEventListener("input", e => {
    volume = parseFloat(e.target.value);
    Object.values(audio).forEach(a => a.volume = volume);
  });

  /* Ø§Ù„Ø¹ØµÙ Ø§Ù„Ø°Ù‡Ù†ÙŠ */
  document.getElementById("addIdea").onclick = ()=>{
    const input = document.getElementById("ideaInput");
    const v = (input.value||"").trim();
    if(!v) return;
    addIdeaChip(v); input.value = "";
  };
  document.getElementById("clearIdeas").onclick = ()=>{
    document.getElementById("ideaWall").innerHTML = "";
    recount(); play("page");
  };

  /* Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Ø§Ù„Ø­Ù…Ø§ÙŠØ© */
  document.querySelectorAll(".pp").forEach(cb=> cb.onchange = ()=> { play("click"); });
  document.getElementById("applyProtocol").onclick = ()=>{
    const s = calcSafety();
    if(s >= 80){ play("fanfare"); confetti(24); }
    else{ play("notify"); }
  };
  calcSafety();

  /* Ø¯Ø±Ø§Ø³Ø© Ø­Ø§Ù„Ø© */
  loadCase();
  document.querySelectorAll(".caseOpt").forEach((b,idx)=>{
    b.onclick = ()=>{
      const C = CASES[currentCase];
      const ok = (idx === C.c);
      document.querySelectorAll(".caseOpt").forEach(x=> x.disabled = true);
      const fb = document.getElementById("caseFeedback");
      fb.style.display = "block"; fb.textContent = C.f[idx];
      if(ok){ b.classList.add("correct"); play("clap"); confetti(12); }
      else  { b.classList.add("wrong"); play("wrong"); }
      // Ø²Ø± Ù„Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø¢Ø®Ø±
      setTimeout(()=>{ play("page"); loadCase(); }, 2500);
    };
  });

  /* Ù…Ø­Ø§ÙƒÙŠ Ø§Ù„Ø®ØµÙˆØµÙŠØ© */
  document.querySelectorAll(".sim").forEach(cb=> cb.onchange = ()=> { calcSim(); play("click"); });
  calcSim();

  /* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù‚Ù„Ø¨ÙŠØ© */
  bindFlips();
  document.getElementById("shuffleFlips").onclick = shuffleFlips;

  /* ØªØ±ØªÙŠØ¨ Ø§Ù„Ø®Ø·ÙˆØ§Øª */
  renderSteps();
  document.getElementById("checkOrder").onclick = checkOrder;

  /* Ø§Ù„ÙƒÙˆÙŠØ² */
  renderQuiz10();
});
</script>
</body>
</html>
